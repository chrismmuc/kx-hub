# Terraform variables for MCP Remote Server deployment
# Copy this file to terraform.tfvars and fill in your values

project_id           = "your-gcp-project-id"
region              = "us-central1"
firestore_collection = "kb_items"
service_name        = "kx-hub-mcp-remote"

# REQUIRED: Tavily API key (get from https://tavily.com)
tavily_api_key = "tvly-YOUR-API-KEY-HERE"

# Optional: Email for alerts
alert_email = "your-email@example.com"

# ==================== OAuth 2.1 Configuration (for Claude Mobile/Web) ====================

# Enable OAuth 2.1 for Claude.ai Web and Mobile access
# - Set to true: Use OAuth (works on Desktop, Web, and Mobile)
# - Set to false: Use simple Bearer token (Desktop only)
oauth_enabled = false

# Your email (single-user OAuth system)
oauth_user_email = "your-email@example.com"

# Bcrypt hash of your OAuth password
# Generate with: python3 -c "import bcrypt; print(bcrypt.hashpw(b'your-password', bcrypt.gensalt()).decode())"
oauth_user_password_hash = ""

# OPTIONAL: OAuth Issuer URL override (recommended for production)
# After first deployment, set this to your Cloud Run service URL to ensure consistent HTTPS issuer
# Get the URL from: terraform output service_url
# Example: oauth_issuer_override = "https://kx-hub-mcp-remote-xxxxxx.run.app"
oauth_issuer_override = ""

# ==================== Usage Examples ====================

# Example 1: Claude Desktop only (no OAuth)
#   oauth_enabled = false
#   Uses MCP_AUTH_TOKEN (auto-generated)
#   Simple bearer token auth
#
# Example 2: Claude Mobile/Web + Desktop (with OAuth)
#   oauth_enabled = true
#   oauth_user_email = "you@example.com"
#   oauth_user_password_hash = "$2b$12$..."
#   Full OAuth 2.1 with Dynamic Client Registration

# ==================== How to Generate Password Hash ====================
#
# Run this command to create a bcrypt hash for your password:
#
#   python3 -c "import bcrypt; print(bcrypt.hashpw(b'MySecurePassword', bcrypt.gensalt()).decode())"
#
# Copy the output (starts with $2b$12$...) to oauth_user_password_hash above
